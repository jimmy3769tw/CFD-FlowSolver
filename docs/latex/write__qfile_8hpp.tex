\doxysection{cfd\+\_\+mx/inc/io/plot3d/write\+\_\+qfile.hpp File Reference}
\hypertarget{write__qfile_8hpp}{}\label{write__qfile_8hpp}\index{cfd\_mx/inc/io/plot3d/write\_qfile.hpp@{cfd\_mx/inc/io/plot3d/write\_qfile.hpp}}
{\ttfamily \#include $<$string$>$}\newline
{\ttfamily \#include $<$sys/types.\+h$>$}\newline
{\ttfamily \#include $<$dirent.\+h$>$}\newline
{\ttfamily \#include "{}grid/structured\+\_\+grid.\+hpp"{}}\newline
{\ttfamily \#include "{}backend/physical\+\_\+variables.\+hpp"{}}\newline
{\ttfamily \#include "{}backend/simulation.\+hpp"{}}\newline
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{write__qfile_8hpp_a1f54031450601af74767a58a74c294f7}{Write\+Qfile}} (\mbox{\hyperlink{class_immersed_boundary}{Immersed\+Boundary}} \&dfib, \mbox{\hyperlink{class_simulation}{Simulation}} \&simu, \mbox{\hyperlink{class_pressure}{Pressure}} \&pressure, \mbox{\hyperlink{class_staggered_velocity}{Staggered\+Velocity}} \&curr\+\_\+vel, \mbox{\hyperlink{class_structured_grid}{Structured\+Grid}} \&grid)
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\Hypertarget{write__qfile_8hpp_a1f54031450601af74767a58a74c294f7}\label{write__qfile_8hpp_a1f54031450601af74767a58a74c294f7} 
\index{write\_qfile.hpp@{write\_qfile.hpp}!WriteQfile@{WriteQfile}}
\index{WriteQfile@{WriteQfile}!write\_qfile.hpp@{write\_qfile.hpp}}
\doxysubsubsection{\texorpdfstring{WriteQfile()}{WriteQfile()}}
{\footnotesize\ttfamily void Write\+Qfile (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_immersed_boundary}{Immersed\+Boundary}} \&}]{dfib,  }\item[{\mbox{\hyperlink{class_simulation}{Simulation}} \&}]{simu,  }\item[{\mbox{\hyperlink{class_pressure}{Pressure}} \&}]{pressure,  }\item[{\mbox{\hyperlink{class_staggered_velocity}{Staggered\+Velocity}} \&}]{curr\+\_\+vel,  }\item[{\mbox{\hyperlink{class_structured_grid}{Structured\+Grid}} \&}]{grid }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{write__qfile_8hpp_source_l00009}{9}} of file \mbox{\hyperlink{write__qfile_8hpp_source}{write\+\_\+qfile.\+hpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00010\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00011\ \ \ \textcolor{keyword}{auto}\ gc\ =\ grid.\mbox{\hyperlink{class_structured_grid_a588ce27c2f4a42580d8c7ea85524a427}{no\_ghost\_cell}};}
\DoxyCodeLine{00012\ \ \ \textcolor{keyword}{auto}\ nx\ =\ grid.\mbox{\hyperlink{class_structured_grid_a729ba22ec783944242e7279c7edbd9d3}{nx}};}
\DoxyCodeLine{00013\ \ \ \textcolor{keyword}{auto}\ ny\ =\ grid.\mbox{\hyperlink{class_structured_grid_acd2c4a5c87de501e98173c83838978b6}{ny}};}
\DoxyCodeLine{00014\ \ \ \textcolor{keyword}{auto}\ nz\ =\ grid.\mbox{\hyperlink{class_structured_grid_a6d376bf512f0064c82b1af557dd59dd3}{nz}};}
\DoxyCodeLine{00015\ \ \ \textcolor{keyword}{auto}\ cal\_nx\ =\ grid.\mbox{\hyperlink{class_structured_grid_af615b1cdf8952af8bccbfc688410a3e5}{cal\_nx}};}
\DoxyCodeLine{00016\ \ \ \textcolor{keyword}{auto}\ cal\_ny\ =\ grid.\mbox{\hyperlink{class_structured_grid_ab981c1b7d078c3c3167ee0f7f1ccb89c}{cal\_ny}};}
\DoxyCodeLine{00017\ \ \ \textcolor{keyword}{auto}\ cal\_nz\ =\ grid.\mbox{\hyperlink{class_structured_grid_a5a19d04b23d10dae669d3b0552088fd8}{cal\_nz}};}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ \ \ \textcolor{comment}{//\ double\ temp\ =\ 1.0;}}
\DoxyCodeLine{00020\ \ \ \textcolor{keywordtype}{float}\ mach\ =\ 0;}
\DoxyCodeLine{00021\ \ \ \textcolor{keywordtype}{float}\ alpha\ =\ 0;}
\DoxyCodeLine{00022\ \ \ \textcolor{keywordtype}{float}\ reyn\ =\ simu.\mbox{\hyperlink{class_simulation_a2baf0eae5a9ba6683c7d4b158d216bdd}{GetReynoldsNumber}}();}
\DoxyCodeLine{00023\ \ \ \textcolor{keywordtype}{float}\ time\ =\ simu.\mbox{\hyperlink{class_simulation_a618fe1caf62de3f4e789ae2b8da4fa17}{tva}}.\mbox{\hyperlink{class_time_variance_authority_af075e1d566655fdc2667ca7008c54341}{GetTime}}();}
\DoxyCodeLine{00024\ \ \ \textcolor{keywordtype}{int}\ io\ =\ simu.\mbox{\hyperlink{class_simulation_a618fe1caf62de3f4e789ae2b8da4fa17}{tva}}.\mbox{\hyperlink{class_time_variance_authority_acd9b1260ec98d9e1b5bddcca1944c849}{GetFileNo}}();}
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00026\ \ \ std::ofstream\ file;}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00028\ \ \ \textcolor{keywordtype}{int}\ no\_block\ =\ 1;}
\DoxyCodeLine{00029\ \ \ \textcolor{keywordtype}{int}\ temp\_nx\ =\ grid.\mbox{\hyperlink{class_structured_grid_af615b1cdf8952af8bccbfc688410a3e5}{cal\_nx}};}
\DoxyCodeLine{00030\ \ \ \textcolor{keywordtype}{int}\ temp\_ny\ =\ grid.\mbox{\hyperlink{class_structured_grid_ab981c1b7d078c3c3167ee0f7f1ccb89c}{cal\_ny}};}
\DoxyCodeLine{00031\ \ \ \textcolor{keywordtype}{int}\ temp\_nz\ =\ grid.\mbox{\hyperlink{class_structured_grid_a5a19d04b23d10dae669d3b0552088fd8}{cal\_nz}};}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00033\ \ \ std::string\ filename\ =\ \textcolor{stringliteral}{"{}mx\_out/P3D"{}};}
\DoxyCodeLine{00034\ }
\DoxyCodeLine{00035\ \ \ \textcolor{keywordflow}{if}\ (io\ <\ 10)\ \{}
\DoxyCodeLine{00036\ \ \ \ \ filename\ +=\ \textcolor{stringliteral}{"{}0"{}};}
\DoxyCodeLine{00037\ \ \ \}}
\DoxyCodeLine{00038\ }
\DoxyCodeLine{00039\ \ \ filename\ +=\ std::to\_string(io);}
\DoxyCodeLine{00040\ \ \ filename\ +=\ \textcolor{stringliteral}{"{}.q"{}};}
\DoxyCodeLine{00041\ \ \ file.open(filename,\ std::ofstream::binary);}
\DoxyCodeLine{00042\ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}(Output\ Plaot3D):"{}}\ <<\ io\ <<\ std::endl;}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00044\ \ \ file.write((\textcolor{keywordtype}{char}\ *)(\&no\_block),\ \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{int}));}
\DoxyCodeLine{00045\ \ \ file.write((\textcolor{keywordtype}{char}\ *)(\&temp\_nx),\ \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{int}));}
\DoxyCodeLine{00046\ \ \ file.write((\textcolor{keywordtype}{char}\ *)(\&temp\_ny),\ \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{int}));}
\DoxyCodeLine{00047\ \ \ file.write((\textcolor{keywordtype}{char}\ *)(\&temp\_nz),\ \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{int}));}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00049\ \ \ file.write((\textcolor{keywordtype}{char}\ *)(\&mach),\ \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{float}));}
\DoxyCodeLine{00050\ \ \ file.write((\textcolor{keywordtype}{char}\ *)(\&alpha),\ \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{float}));}
\DoxyCodeLine{00051\ \ \ file.write((\textcolor{keywordtype}{char}\ *)(\&reyn),\ \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{float}));}
\DoxyCodeLine{00052\ \ \ file.write((\textcolor{keywordtype}{char}\ *)(\&time),\ \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{float}));}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00054\ \ \ \textcolor{keyword}{auto}\ ii\ =\ [\&](\textcolor{keyword}{auto}\ i,\ \textcolor{keyword}{auto}\ j,\ \textcolor{keyword}{auto}\ k)\ \{\ \textcolor{keywordflow}{return}\ grid.\mbox{\hyperlink{class_structured_grid_acab922cc8855e08a3e6d94fa7496231f}{icel}}(i,\ j,\ k);\ \};}
\DoxyCodeLine{00055\ }
\DoxyCodeLine{00056\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ k\ =\ gc;\ k\ <\ cal\_nz\ +\ gc;\ ++k)}
\DoxyCodeLine{00057\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ j\ =\ gc;\ j\ <\ cal\_ny\ +\ gc;\ ++j)}
\DoxyCodeLine{00058\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ gc;\ i\ <\ cal\_nx\ +\ gc;\ ++i)\ \{}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ out\ =\ pressure.\mbox{\hyperlink{class_pressure_aed42bb81b78185a0323339242169d7f6}{p}}[ii(i,\ j,\ k)];}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ file.write((\textcolor{keywordtype}{char}\ *)(\&out),\ \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{float}));}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00062\ }
\DoxyCodeLine{00063\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ k\ =\ gc;\ k\ <\ cal\_nz\ +\ gc;\ ++k)}
\DoxyCodeLine{00064\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ j\ =\ gc;\ j\ <\ cal\_ny\ +\ gc;\ ++j)}
\DoxyCodeLine{00065\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ gc;\ i\ <\ cal\_nx\ +\ gc;\ ++i)\ \{}
\DoxyCodeLine{00066\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ out\ =\ 0.5\ *\ (curr\_vel.\mbox{\hyperlink{class_staggered_velocity_afb5848ce19415f798e8d57b85f8d7d57}{u}}[ii(i\ -\/\ 1,\ j,\ k)]\ +\ curr\_vel.\mbox{\hyperlink{class_staggered_velocity_afb5848ce19415f798e8d57b85f8d7d57}{u}}[ii(i,\ j,\ k)]);}
\DoxyCodeLine{00067\ \ \ \ \ \ \ \ \ file.write((\textcolor{keywordtype}{char}\ *)(\&out),\ \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{float}));}
\DoxyCodeLine{00068\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00070\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ k\ =\ gc;\ k\ <\ cal\_nz\ +\ gc;\ ++k)}
\DoxyCodeLine{00071\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ j\ =\ gc;\ j\ <\ cal\_ny\ +\ gc;\ ++j)}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ gc;\ i\ <\ cal\_nx\ +\ gc;\ ++i)\ \{}
\DoxyCodeLine{00073\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ out\ =\ 0.5\ *\ (curr\_vel.\mbox{\hyperlink{class_staggered_velocity_acc058b10021080e0d80c459251be2c7f}{v}}[ii(i,\ j\ -\/\ 1,\ k)]\ +\ curr\_vel.\mbox{\hyperlink{class_staggered_velocity_acc058b10021080e0d80c459251be2c7f}{v}}[ii(i,\ j,\ k)]);}
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ file.write((\textcolor{keywordtype}{char}\ *)(\&out),\ \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{float}));}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00076\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ k\ =\ gc;\ k\ <\ cal\_nz\ +\ gc;\ ++k)}
\DoxyCodeLine{00077\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ j\ =\ gc;\ j\ <\ cal\_ny\ +\ gc;\ ++j)}
\DoxyCodeLine{00078\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ gc;\ i\ <\ cal\_nx\ +\ gc;\ ++i)\ \{}
\DoxyCodeLine{00079\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ out\ =\ 0.5\ *\ (curr\_vel.\mbox{\hyperlink{class_staggered_velocity_abf894ea9fea0fbe62aea732c3cb94174}{w}}[ii(i,\ j,\ k\ -\/\ 1)]\ +\ curr\_vel.\mbox{\hyperlink{class_staggered_velocity_abf894ea9fea0fbe62aea732c3cb94174}{w}}[ii(i,\ j,\ k)]);}
\DoxyCodeLine{00080\ \ \ \ \ \ \ \ \ file.write((\textcolor{keywordtype}{char}\ *)(\&out),\ \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{float}));}
\DoxyCodeLine{00081\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00082\ }
\DoxyCodeLine{00083\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ k\ =\ gc;\ k\ <\ cal\_nz\ +\ gc;\ ++k)}
\DoxyCodeLine{00084\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ j\ =\ gc;\ j\ <\ cal\_ny\ +\ gc;\ ++j)}
\DoxyCodeLine{00085\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ gc;\ i\ <\ cal\_nx\ +\ gc;\ ++i)\ \{}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ out\ =\ dfib.\mbox{\hyperlink{class_immersed_boundary_a6e64d44d2ae6364fdc6c131fea6c15ab}{eta}}[ii(i,\ j,\ k)];}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ file.write((\textcolor{keywordtype}{char}\ *)(\&out),\ \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{float}));}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00089\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{structured__grid_8hpp_source_l00060}{Structured\+Grid\+::cal\+\_\+nx}}, \mbox{\hyperlink{structured__grid_8hpp_source_l00060}{Structured\+Grid\+::cal\+\_\+ny}}, \mbox{\hyperlink{structured__grid_8hpp_source_l00060}{Structured\+Grid\+::cal\+\_\+nz}}, \mbox{\hyperlink{physical__variables_8hpp_source_l00180}{Immersed\+Boundary\+::eta}}, \mbox{\hyperlink{time__variance__authority_8hpp_source_l00025}{Time\+Variance\+Authority\+::\+Get\+File\+No()}}, \mbox{\hyperlink{simulation_8hpp_source_l00028}{Simulation\+::\+Get\+Reynolds\+Number()}}, \mbox{\hyperlink{time__variance__authority_8hpp_source_l00007}{Time\+Variance\+Authority\+::\+Get\+Time()}}, \mbox{\hyperlink{structured__grid_8hpp_source_l00132}{Structured\+Grid\+::icel()}}, \mbox{\hyperlink{structured__grid_8hpp_source_l00061}{Structured\+Grid\+::no\+\_\+ghost\+\_\+cell}}, \mbox{\hyperlink{structured__grid_8hpp_source_l00064}{Structured\+Grid\+::nx}}, \mbox{\hyperlink{structured__grid_8hpp_source_l00065}{Structured\+Grid\+::ny}}, \mbox{\hyperlink{structured__grid_8hpp_source_l00066}{Structured\+Grid\+::nz}}, \mbox{\hyperlink{physical__variables_8hpp_source_l00113}{Pressure\+::p}}, \mbox{\hyperlink{simulation_8hpp_source_l00021}{Simulation\+::tva}}, \mbox{\hyperlink{physical__variables_8hpp_source_l00054}{Staggered\+Velocity\+::u}}, \mbox{\hyperlink{physical__variables_8hpp_source_l00054}{Staggered\+Velocity\+::v}}, and \mbox{\hyperlink{physical__variables_8hpp_source_l00054}{Staggered\+Velocity\+::w}}.



Referenced by \mbox{\hyperlink{run__cpu_8hpp_source_l00052}{projection\+\_\+method\+::\+Cpu\+Open\+Mp\+::solve()}}, and \mbox{\hyperlink{run__cpu__mpi_8hpp_source_l00054}{projection\+\_\+method\+::\+Cpu\+Open\+Mp\+Mpi\+::solve()}}.

